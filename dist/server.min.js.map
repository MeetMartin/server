{"version":3,"sources":["webpack://server/webpack/universalModuleDefinition","webpack://server/webpack/bootstrap","webpack://server/./node_modules/@babel/runtime/regenerator/index.js","webpack://server/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://server/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://server/external \"fs\"","webpack://server/external \"http\"","webpack://server/./node_modules/query-string/index.js","webpack://server/./node_modules/mime-types/index.js","webpack://server/./node_modules/regenerator-runtime/runtime.js","webpack://server/./node_modules/strict-uri-encode/index.js","webpack://server/./node_modules/decode-uri-component/index.js","webpack://server/./node_modules/split-on-first/index.js","webpack://server/./node_modules/mime-types/node_modules/mime-db/index.js","webpack://server/external \"path\"","webpack://server/./node_modules/@7urtle/lambda/src/conditional.js","webpack://server/./node_modules/@7urtle/lambda/src/utils.js","webpack://server/./node_modules/@7urtle/lambda/src/list.js","webpack://server/./node_modules/@7urtle/lambda/src/core.js","webpack://server/./node_modules/@7urtle/lambda/src/string.js","webpack://server/./node_modules/@7urtle/lambda/src/Maybe.js","webpack://server/./node_modules/@7urtle/lambda/src/Either.js","webpack://server/./node_modules/@7urtle/lambda/src/AsyncEffect.js","webpack://server/./node_modules/@7urtle/logger/src/index.js","webpack://server/./src/RequestEffect.js","webpack://server/./src/ResponseEffect.js","webpack://server/./src/Router.js","webpack://server/./src/Server.js","webpack://server/./src/apis/apiError.js","webpack://server/./src/apis/apiFile.js","webpack://server/./src/index.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","configurable","writable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","self","args","arguments","apply","err","undefined","require","strictUriEncode","decodeComponent","splitOnFirst","validateArrayFormatSeparator","length","TypeError","encode","options","strict","encodeURIComponent","decode","removeHash","input","hashStart","indexOf","slice","extract","queryStart","parseValue","parseNumbers","Number","isNaN","trim","parseBooleans","toLowerCase","parse","assign","sort","arrayFormat","arrayFormatSeparator","formatter","result","accumulator","exec","replace","concat","newValue","split","map","item","parserForArrayFormat","ret","param","includes","keys","k","reduce","Boolean","Array","isArray","keysSorter","a","b","stringify","shouldFilter","skipNull","skipEmptyString","index","join","encoderForArrayFormat","objectCopy","filter","x","parseUrl","url","hash","query","parseFragmentIdentifier","fragmentIdentifier","stringifyUrl","queryFromUrl","parsedQueryFromUrl","queryString","getHash","extensions","types","preference","db","extname","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","charset","type","match","mime","test","charsets","lookup","contentType","str","extension","exts","path","substr","forEach","from","source","to","runtime","Op","hasOwn","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","method","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","constructor","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","toString","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","charCodeAt","toUpperCase","singleMatcher","RegExp","multiMatcher","decodeComponents","components","decodeURIComponent","left","right","tokens","encodedURI","replaceMap","entries","customDecodeURIComponent","string","separator","separatorIndex","isEqual","isTrue","isTypeOf","typeOf","isString","isNull","isUndefined","isNumber","isObject","isFunction","isLength","lengthOf","isEmpty","isNothing","isJust","passThrough","f","deepInspect","console","log","String","inspectArray","inspect","keysOf","inspectObject","inspectString","mapper","list","identity","compose","fns","reduceRight","initial","reducer","v","upperCaseOf","Nothing","of","Either","e","message","either","onLeft","onRight","functorEither","isLeft","trigger","_","flatMap","defaultConfiguration","levels","debug","warn","library","decorator","level","Date","toLocaleString","getLogger","configuration","logRequest","request","logger","RequestEffect","requestHook","AsyncEffect","data","on","json","JSON","getRequestObject","sendHead","responseHook","response","writeHead","status","contentLength","Buffer","byteLength","content","getHeaders","sendContent","end","streamFile","fs","existsSync","file","createReadStream","pipe","ResponseEffect","sendOrStream","memory","MaybeRoute","Maybe","routes","find","route","substring","endsWith","startsWith","limit","start","emptyContent","ApiEffect","getApiEffect","apiError","any","onJust","functorMaybe","api","maybe","rawGetApiEffect","listeningListener","port","errorListener","code","respondWithApiError","requestListener","Router","respondToError","http","createServer","listeners","listen","listening","STATUS_CODES","apiFile","mimeTypes","statSync","size","process","env","createLogger","Server"],"mappings":"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","file":"server.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"server\"] = factory();\n\telse\n\t\troot[\"server\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","module.exports = require(\"regenerator-runtime\");\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","module.exports = require(\"fs\");","module.exports = require(\"http\");","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === null || value === undefined || value.length === 0) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.split('').indexOf(options.arrayFormatSeparator) > -1;\n\t\t\t\tconst newValue = isArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (input, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url, hash] = splitOnFirst(input, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url.split('?')[0] || '',\n\t\t\tquery: parse(extract(input), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (input, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true\n\t}, options);\n\n\tconst url = removeHash(input.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(input.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl);\n\n\tconst query = Object.assign(parsedQueryFromUrl, input.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(input.url);\n\tif (input.fragmentIdentifier) {\n\t\thash = `#${encode(input.fragmentIdentifier, options)}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","module.exports = require(\"path\");","import {typeOf, lengthOf} from \"./utils\";\n\n/**\n * isEqual :: a -> b -> boolean\n *\n * isEqual output is true if strict equality between a and b is true.\n * isEqual output is always false for comparison of objects and arrays.\n */\nexport const isEqual = a => b => a === b;\n\n/**\n * isNotEqual :: a -> b -> boolean\n *\n * isNotEqual output is true if strict equality between a and b is false.\n * isNotEqual output is always true for comparison of objects and arrays.\n */\nexport const isNotEqual = a => b => a !== b;\n\n/**\n * isTrue :: a -> boolean\n *\n * isTrue output is true if input is true.\n */\nexport const isTrue = isEqual(true);\n\n/**\n * isFalse :: a -> Boolean\n *\n * isFalse output is true if input is false.\n */\nexport const isFalse = isEqual(false);\n\n/**\n * isGreaterThan :: a -> b -> boolean\n *\n * isGreaterThan output is true if b is greater than a.\n */\nexport const isGreaterThan = a => b => b > a;\n\n/**\n * isLessThan :: a -> b -> boolean\n *\n * isLessThan output is true if b is less than a.\n */\nexport const isLessThan = a => b => b < a;\n\n/**\n * isAtLeast :: a -> b -> boolean\n *\n * isAtLeast output is true if b is greater or equal to a.\n */\nexport const isAtLeast = a => b => b >= a;\n\n/**\n * isAtMost :: a -> b -> boolean\n *\n * isAtMost output is true if b is less or equal to a.\n */\nexport const isAtMost = a => b => b <= a;\n\n/**\n * isTypeOf :: a -> b -> boolean\n *\n * isTypeOf output is true if b is a type of a.\n */\nexport const isTypeOf = a => b => isEqual(typeOf(b))(a);\n\n/**\n * isString :: a -> boolean\n *\n * isString output is true if b is a string.\n */\nexport const isString = isTypeOf('string');\n\n/**\n * isBoolean :: a -> boolean\n *\n * isBoolean output is true if b is a boolean.\n */\nexport const isBoolean = isTypeOf('boolean');\n\n/**\n * isNull :: a -> boolean\n *\n * isNull output is true if b is a null.\n */\nexport const isNull = isEqual(null);\n\n/**\n * isUndefined :: a -> boolean\n *\n * isUndefined output is true if b is an undefined.\n */\nexport const isUndefined = isTypeOf('undefined');\n\n/**\n * isNumber :: a -> boolean\n *\n * isNumber output is true if b is a number.\n */\nexport const isNumber = isTypeOf('number');\n\n/**\n * isObject :: a -> boolean\n *\n * isObject output is true if b is an object, array of null.\n */\nexport const isObject = isTypeOf('object');\n\n/**\n * isArray :: a -> boolean\n *\n * isArray output is true if b is an array.\n */\nexport const isArray = Array.isArray;\n\n/**\n * isFunction :: a -> boolean\n *\n * isFunction output is true if b is a function.\n */\nexport const isFunction = isTypeOf('function');\n\n/**\n * isLength :: (string|array) -> b -> boolean\n *\n * isLength output is true if b is a length of a.\n */\nexport const isLength = a => b => isEqual(lengthOf(b))(a);\n\n/**\n * isNotLength :: (string|array) -> b -> boolean\n *\n * isNotLength output is true if b is not a length of a.\n */\nexport const isNotLength = a => b => !isLength(a)(b);\n\n/**\n * isEmpty :: (string|array) -> boolean\n *\n * isEmpty output is true if input has a length of 0.\n * isEmpty output is always false if input is an object and not an array or a string.\n */\nexport const isEmpty = isLength(0);\n\n/**\n * isNotEmpty :: (string|array) -> boolean\n *\n * isNotEmpty output is true if input does not have a length of 0.\n * isNotEmpty output is always true if input is an object and not an array or a string.\n */\nexport const isNotEmpty = isNotLength(0);\n\n/**\n * isZero :: a -> boolean\n *\n * isZero output is true if a is 0.\n */\nexport const isZero = isEqual(0);\n\n/**\n * isNotZero :: a -> boolean\n *\n * isNotZero output is true if a is not 0.\n */\nexport const isNotZero = isNotEqual(0);\n\n/**\n * isNothing :: a -> boolean\n *\n * isNothing returns true if input is null, undefined or empty string or empty array.\n */\nexport const isNothing = a => isNull(a) || isUndefined(a) || isEmpty(a);\n\n/**\n * isJust :: a -> boolean\n *\n * isJust returns true if input is not null, undefined or empty string or empty array.\n */\nexport const isJust = a => !isNothing(a);","import {isArray, isEqual, isString, isObject, isFunction, isNull, isUndefined} from \"./conditional\";\nimport {keysOf, join, map} from \"./list\";\n\n/**\n * typeOf :: a -> string\n *\n * typeOf outputs type of its input a.\n */\nexport const typeOf = a => typeof a;\n\n/**\n * lengthOf :: (string|array) -> number\n */\nexport const lengthOf = a => a.length;\n\n/**\n * passThrough :: function -> a -> a\n *\n * passThrough output is the same as input a.\n * passThrough executes function passed as first argument.\n */\nexport const passThrough = f => a => {\n  f(a);\n  return a;\n};\n\n/**\n * log :: a -> a\n *\n * log output is the same as input.\n * log causes side effect of console.log.\n */\nexport const log = passThrough(console.log);\n\n/**\n * spy :: a -> a\n *\n * spy output is the same as input.\n * spy causes side effect of console.log.\n */\nexport const spy = passThrough(a => console.log(deepInspect(a)));\n\n/**\n * minusOneToUndefined :: a -> a|boolean\n *\n * minusOneToUndefined output is the same as input or undefined if input is -1.\n */\nexport const minusOneToUndefined = a => isEqual(-1)(a) ? undefined: a;\n\n/**\n * inspectFunction :: (a -> b) -> string\n *\n * inspectFunction outputs name of named function or its conversion to string.\n */\nexport const inspectFunction = f => f.name ? f.name : String(f);\n\n/**\n * inspectArray :: [a] -> string\n *\n * inspectArray maps over input array [a] and outputs string representing it.\n */\nexport const inspectArray = a => `[${join(', ')(map(deepInspect)(a))}]`;\n\n/**\n * inspectString :: a -> string\n *\n * inspectString outputs string representing input.\n */\nexport const inspectString = a => `'${a}'`;\n\n/**\n * inspectObject :: a -> string\n *\n * inspectObject outputs string representing input.\n */\nexport const inspectObject = a =>\n  isFunction(a.inspect)\n    ? a.inspect()\n    : `{${join(', ')(map(join(': '))(map(k => [k, deepInspect(a[k])])(keysOf(a))))}}`\n\n/**\n * deepInspect :: a -> string\n *\n * deepInspect runs recursively over input and outputs string representing the input.\n */\nexport const deepInspect = a =>\n  isUndefined(a)\n    ? 'undefined'\n    : isNull(a)\n      ? 'null'\n      : isFunction(a)\n        ? inspectFunction(a)\n        : isArray(a)\n          ? inspectArray(a)\n          : isObject(a)\n            ? inspectObject(a)\n            : isString(a)\n              ? inspectString(a)\n              : String(a);","import {minusOneToUndefined} from './utils';\n\n/**\n * reduce :: a -> ((a, b) -> a) -> [b] -> a\n *\n * reduce executes input reducer function that over each member of input array [b] to output single value a.\n *\n * reduce executes functions in reverse order to reduceRight.\n */\nexport const reduce = initial => reducer => list => list.reduce(reducer, initial);\n\n/**\n * reduceRight :: a -> ((a, b) -> a) -> [b] -> a\n *\n * reduceRight executes input reducer function that over each member of input array [b] to output single value a.\n *\n * reduceRight executes functions in reverse order to reduce.\n */\nexport const reduceRight = initial => reducer => list => list.reduceRight(reducer, initial);\n\n/**\n * map :: (a -> b) -> [a] -> [b]\n *\n * map executes input mapper over each member of input array [a] to output new array [b].\n */\nexport const map = mapper => list => list.map(mapper);\n\n/**\n * filter :: (a -> boolean) -> [a] -> [b]\n *\n * filter executes input checker over each member of input array [a] to filter and output filtered new array [b].\n */\nexport const filter = checker => list => list.filter(checker);\n\n/**\n * find :: (a -> boolean) -> [a] -> [b]\n *\n * find executes input checker over each member of input array [a] and outputs the first array member that matches checker or undefined.\n */\nexport const find = checker => list => list.find(checker);\n\n/**\n * findIndex :: (a -> boolean) -> [a] -> [b]\n *\n * findIndex executes input checker over each member of input array [a] and outputs the index of first array member that matches checker or undefined.\n */\nexport const findIndex = checker => list => minusOneToUndefined(list.findIndex(checker));\n\n/**\n * join :: string -> [a] -> string\n *\n * join outputs a string created by joining input array members with input separator.\n */\nexport const join = separator => list => list.join(separator);\n\n/**\n * keysOf :: object -> [string]\n *\n * keysOf outputs array of string keys of input array or object.\n */\nexport const keysOf = Object.keys;\n\n/**\n * entriesOf :: object -> [[string, a]]\n *\n * entriesOf outputs array of arrays of string keys and raw values of input array or object.\n */\nexport const entriesOf = Object.entries;\n\n/**\n * everyOf :: (a -> boolean) -> [a] -> boolean\n *\n * everyOf outputs true if every element of input array passes input checker function as true.\n */\nexport const everyOf = checker => list => list.every(checker);\n\n/**\n * slice :: number -> number -> [a] -> [a]\n *\n * slice outputs selected array elements as an array based on input range.\n */\nexport const slice = end => start => list => list.slice(start, end);\n\n/**\n * some :: (a -> boolean) -> [a] -> boolean\n *\n * some outputs true if any element of input array passes input checker function as true.\n */\nexport const someOf = checker => list => list.some(checker);","import {reduce, reduceRight} from './list';\nimport {isString, isArray, isObject} from './conditional';\nimport {minusOneToUndefined, passThrough} from './utils';\n\n/**\n * identity simply passes its input to its output.\n *\n * @HindleyMilner identity :: a -> a\n *\n * @pure\n * @param {*} a\n * @return {a}\n *\n * @example\n * identity('anything');\n * // => anything\n */\nexport const identity = a => a;\n\n/**\n * pipe output is a right-to-left function composition\n * where each function receives input and hands over its output to the next function.\n *\n * compose executes functions in reverse order to pipe.\n *\n * compose(f,g)(x) is equivalent to f(g(x)).\n *\n * @HindleyMilner compose :: [(a -> b)] -> a -> (a -> b)\n *\n * @pure\n * @param {function} fns\n * @param {*} a\n * @return {*}\n *\n * @example\n * const addA = a => a + 'A';\n * const addB = a => a + 'B';\n * const addAB = compose(addB, addA);\n *\n * addAB('Order: ');\n * // => Order: AB\n */\nexport const compose = (...fns) => a => reduceRight(a)((v, f) => f(v))(fns);\n\n/**\n * pipe :: [(a -> b)] -> a -> (a -> b)\n *\n * pipe output is a left-to-right function composition\n * where each function receives input and hands over its output to the next function.\n *\n * pipe executes functions in reverse order to compose.\n *\n * pipe(f,g)(x) is equivalent to g(f(x)).\n */\nexport const pipe = (...fns) => a => reduce(a)((v, f) => f(v))(fns);\n\n/**\n * functorMap :: (a -> b) -> Functor -> Functor\n *\n * functorMap maps function over inputted functor outputting resulting functor.\n */\nexport const functorMap = fn => functor => functor.map(fn);\n\n/**\n * functorFlatMap :: (a -> Functor) -> Functor -> Functor\n *\n * functorFlatMap flatMaps function outputting functor over inputted functor outputting resulting functor.\n */\nexport const functorFlatMap = fn => functor => functor.flatMap(fn);\n\n/**\n * liftA2 (a -> b -> c) -> Applicative a -> Applicative b -> Applicative c\n *\n * liftA2 provides point-free way of writing calls over applicative functors and functions with arity 2.\n */\nexport const liftA2 = fn => ap1 => ap2 => ap1.map(fn).ap(ap2);\n\n/**\n * liftA3 (a -> b -> c -> d) -> Applicative a -> Applicative b -> Applicative c -> Applicative d\n *\n * liftA3 provides point-free way of writing calls over applicative functors and functions with arity 3.\n */\nexport const liftA3 = fn => ap1 => ap2 => ap3 => ap1.map(fn).ap(ap2).ap(ap3);\n\n/**\n * concat :: a -> a|boolean\n * \n * contact outputs concatenated inputs of strings, arrays and objects or outputs undefined for other types.\n */\nexport const concat = a => b =>\n  isString(b) || isArray(b)\n    ? b.concat(a)\n    : isObject(b)\n      ? {...b, ...a}\n      : undefined;\n\n/**\n * includes :: a -> b -> boolean\n *\n * includes output is true if b includes a.\n */\nexport const includes = a => b => b.includes(a);\n\n/**\n * indexOf :: a -> b -> number\n * \n * indexOf outputs position of input a within input b or undefined if it is not found.\n */\nexport const indexOf = a => b => minusOneToUndefined(b.indexOf(a));\n\n/**\n * lastIndexOf :: a -> b -> number\n * \n * lastIndexOf outputs position of input a withing input b looking from the end or it retuns undefined if it is not found.\n */\nexport const lastIndexOf = a => b => minusOneToUndefined(b.lastIndexOf(a));\n\n/**\n * memoize :: object -> (a -> b) -> a -> b\n *\n * memoize uses input memory to save output of input function and then uses it to lookup result on a repeated run\n */\nexport const memoize = memory => fn => a =>\n  a in memory ? memory[a] : (passThrough(b => memory[a] = b))(fn(a));","import {minusOneToUndefined} from './utils';\n\n/**\n * trim :: string -> string\n *\n * trim output is a string without white characters around it.\n */\nexport const trim = string => string.trim();\n\n/**\n * testRegEx :: regex -> string -> boolean\n *\n * testRegEx outputs true if string b passes regular expression a.\n */\nexport const testRegEx = regex => string => regex.test(string);\n\n/**\n * substr :: number -> number -> string -> string\n * \n * substr outputs substring based on provided string, start and limit.\n */\nexport const substr = limit => start => string => string.substr(start, limit);\n\n/**\n * startsWith :: string -> string -> boolean\n * \n * startsWith outputs true if an input string starts with provided string.\n */\nexport const startsWith = substring => string => string.startsWith(substring);\n\n/**\n * endsWith :: string -> string -> boolean\n * \n * endsWith outputs true if an input string ends with provided string.\n */\nexport const endsWith = substring => string => string.endsWith(substring);\n\n/**\n * repeat :: number -> string -> string\n * \n * repeat outputs new string repeating input string inputed count of times.\n */\nexport const repeat = count => string => string.repeat(count);\n\n/**\n * replace :: string -> string -> string -> string\n * \n * replace outputs new string replacing input substring with input replacement string in input string.\n */\nexport const replace = replacement => substring => string => string.replace(substring, replacement);\n\n/**\n * search :: string/regex -> string -> number\n * \n * search outputs position of input substring or regular expression withing input string or undefined if it is not found.\n */\nexport const search = substring => string => minusOneToUndefined(string.search(substring));\n\n/**\n * split :: string -> string -> array\n * \n * split outputs and array of an input string split by the input substring.\n */\nexport const split = substring => string => string.split(substring);\n\n/**\n * lowerCaseOf :: string -> string\n * \n * lowerCaseOf ouputs the lower case version of input string.\n */\nexport const lowerCaseOf = string => string.toLowerCase();\n\n/**\n * upperCaseOf :: string -> string\n * \n * upperCaseOf ouputs the upper case version of input string.\n */\nexport const upperCaseOf = string => string.toUpperCase();","import {deepInspect} from \"./utils\";\nimport {isNothing} from \"./conditional\";\n\n/**\n * Maybe.of() outputs instance of Maybe.\n * Maybe.of(a).inspect() outputs string Just(a) or Nothing.\n * Maybe.of(a) outputs Nothing for an input that is null, undefined, an empty string or an empty array.\n * Maybe.of(a) outputs Just for an input a that is not Nothing.\n * Maybe.of(a) outputs Nothing for an input a that is null or undefined.\n * Maybe.of(a).isJust() of an input a outputs true for a value that is Just.\n * Maybe.of(a).isNothing() of an input a outputs true for a value that is Nothing.\n * Maybe.of(a).map(a -> b) executes function over Maybe input a.\n * Maybe.of(a).map(a -> Just) outputs Just(Just).\n * Maybe.of(a).map(a -> b) does not execute over Nothing.\n * Maybe.of(a).flatMap(a -> b) executes function over Maybe input a returns its raw value.\n * Maybe.of(a).flatMap(a -> b) does not execute over Nothing.\n * Maybe.of(a).map(a -> b).ap(Maybe) provides applicative ability to apply functors to each other.\n * Maybe.of(Maybe -> Maybe -> c).ap(Maybe).ap(Maybe) provides applicative interface for a functor of a function.\n */\nexport class Maybe {\n  constructor(x) {\n    this.value = x;\n  }\n\n  static of(x) {\n    return isNothing(x) ? new Nothing(x) : new Just(x) ;\n  }\n}\n\nclass Just extends Maybe {\n  inspect() {\n    return `Just(${deepInspect(this.value)})`;\n  }\n\n  isNothing() {\n    return false;\n  }\n\n  isJust() {\n    return true;\n  }\n\n  map(fn) {\n    return Maybe.of(fn(this.value));\n  }\n\n  flatMap(fn) {\n    return fn(this.value);\n  }\n\n  ap(f) {\n    return f.map(this.value);\n  }\n}\n\nclass Nothing extends Maybe {\n  inspect () {\n    return 'Nothing';\n  }\n\n  isNothing() {\n    return true\n  }\n\n  isJust() {\n    return false;\n  }\n\n  map(fn) {\n    return this;\n  }\n\n  flatMap(fn) {\n    return this;\n  }\n\n  ap(f) {\n    return this;\n  }\n}\n\n/**\n * maybe :: a -> (b -> c) -> Maybe\n *\n * maybe outputs result of a function onJust if input Maybe is Just or outputs input error if input Maybe is Nothing.\n */\nexport const maybe = error => onJust => functorMaybe =>\n  functorMaybe.isNothing()\n    ? error\n    : onJust(functorMaybe.value);","import {deepInspect} from \"./utils\";\n\n/**\n * Either.of() outputs instance of Either.\n * Either.of(a) outputs instance of Right holding its input value.\n * Either.Right(a) outputs instance of Right holding its input value.\n * Either.Left(a) outputs instance of Left holding its input value.\n * Either.of(a).inspect() outputs string Right(a).\n * Either.Right(a).inspect() outputs string Right(a).\n * Either.Left(a).inspect() outputs string Left(a).\n * Either.of(a).isRight() always outputs true.\n * Either.Left(a).isLeft() outputs false if Either is Left.\n * Either.try(a -> b) outputs Right(b) if no error is thrown.\n * Either.try(a -> b) outputs Left(e.message) if error is thrown.\n * Either.of(a).map(a -> b) executes function over Either input a.\n * Either.of(a).map(a -> Right) outputs Right(Right).\n * Either.Left(a).map(a -> b) does not execute provided function and retains Left input value.\n * Either.of(a).flatMap(a -> b) executes function over Either input a returns its raw value through flatten.\n * Either.Left(a).flatMap(a -> b) does not execute provided function and retains Left input value.\n * Either.of(Either -> Either -> c).ap(Either).ap(Either) provides applicative interface.\n */\nexport class Either {\n  constructor(x) {\n    this.value = x;\n  }\n\n  static of(x) {\n    return new Right(x);\n  }\n\n  static Right(x) {\n    return new Right(x);\n  }\n\n  static Left(x) {\n    return new Left(x);\n  }\n\n  static try(fn) {\n    try {\n      return new Right(fn());\n    } catch(e) {\n      return new Left(e.message);\n    }\n  }\n}\n\nclass Right extends Either {\n  inspect() {\n    return `Right(${deepInspect(this.value)})`;\n  }\n\n  isLeft() {\n    return false;\n  }\n\n  isRight() {\n    return true;\n  }\n\n  map(fn) {\n    return Either.of(fn(this.value));\n  }\n\n  flatMap(fn) {\n    return fn(this.value);\n  }\n\n  ap(f) {\n    return f.map(this.value);\n  }\n}\n\nclass Left extends Either {\n  inspect() {\n    return `Left(${deepInspect(this.value)})`;\n  }\n\n  isLeft() {\n    return true;\n  }\n\n  isRight() {\n    return false;\n  }\n\n  map() {\n    return this;\n  }\n\n  flatMap() {\n    return this;\n  }\n\n  ap() {\n    return this;\n  }\n}\n\n/**\n * either :: (a -> b) -> (b -> c) -> Either\n *\n * either outputs result of a function onRight if input Either is Right or outputs result of a function onLeft if input Either is Left.\n */\nexport const either = onLeft => onRight => functorEither =>\n  functorEither.isLeft()\n    ? onLeft(functorEither.value)\n    : onRight(functorEither.value);","import {deepInspect} from \"./utils\";\n\n/**\n * AsyncEffect.of() outputs instance of AsyncEffect.\n * AsyncEffect.of(() -> a).inspect() outputs string AsyncEffect(a).\n * AsyncEffect.wrap(a) is equal to AsyncEffect.of((_, resolve) -> resolve(a)).\n * AsyncEffect.of((a, b) -> c).promise() outputs JavaScript promise.\n * AsyncEffect.of((a, b) -> c).trigger(d -> e, f -> g) for resolving async function resolves.\n * AsyncEffect.of((a, b) -> c).trigger(d -> e, f -> g) for rejecting async function rejects.\n * AsyncEffect.of((a, b) -> c).trigger(d -> e, f -> g) for synchronous exceptions rejects.\n * AsyncEffect.of((a, b) -> c).map(b -> c) composes function over AsyncEffect input function.\n * AsyncEffect.of((a, b) -> c).map(b -> AsyncEffect) outputs AsyncEffect(AsyncEffect).\n * AsyncEffect.of((a, b) -> c).flatMap(b -> AsyncEffect) outputs AsyncEffect.\n * AsyncEffect.of((a, b) -> c).flatMap(b -> AsyncEffect) handles reject states correctly passing along the initial error.\n * AsyncEffect.of((a, b) -> c).map(a -> b).ap(AsyncEffect) provides applicative ability to apply functors to each other.\n * AsyncEffect.of(AsyncEffect -> AsyncEffect -> c).ap(AsyncEffect).ap(AsyncEffect) provides applicative interface for a functor of a function.\n * No input function is executed until trigger is called.\n */\nexport class AsyncEffect {\n  constructor(fn) {\n    this.trigger = (reject, resolve) => {\n      try { \n        return fn(reject, resolve);\n      } catch(error) {\n        reject(error);\n      }\n    }\n  }\n\n  inspect() {\n    return `AsyncEffect(${deepInspect(this.trigger)})`;\n  }\n\n  static of(x) {\n    return new AsyncEffect(x);\n  }\n\n  static wrap(x) {\n    return new AsyncEffect((_, resolve) => resolve(x));\n  }\n\n  promise() {\n    return new Promise((resolve, reject) => this.trigger(reject, resolve));\n  }\n\n  map(fn) {\n    return new AsyncEffect((reject, resolve) => this.trigger(reject, a => resolve(fn(a))));\n  }\n\n  flatMap(fn) {\n    return new AsyncEffect((reject, resolve) => this.trigger(reject, x => fn(x).trigger(reject, resolve)));\n  }\n\n  ap(f) {\n    return this.flatMap(fn => f.map(fn));\n  }\n}","import {isTrue, passThrough, compose, upperCaseOf} from \"@7urtle/lambda\";\n\nconst createLogger = configuration => getLogger({\n  ...defaultConfiguration,\n  ...configuration\n});\n\nconst defaultDecorator = level => input =>\n  new Date().toLocaleString() + '; ' + upperCaseOf(level) + ': ' + input;\n\nconst defaultConfiguration = {\n  levels: {\n    log: true,\n    debug: true,\n    info: true,\n    warn: true,\n    error: true\n  },\n  library: console,\n  decorator: defaultDecorator\n};\n\nconst getLogger = configuration => ({\n  log: log(configuration)('log'),\n  debug: log(configuration)('debug'),\n  info: log(configuration)('info'),\n  warn: log(configuration)('warn'),\n  error: log(configuration)('error')\n});\n\nconst log = configuration => level =>\n  isTrue(configuration.levels[level])\n    ? passThrough(compose(configuration.library[level], configuration.decorator(level)))\n    : () => null;\n\nexport default createLogger;\n\nexport {\n  defaultDecorator,\n  getLogger,\n  log\n};","import {AsyncEffect, Either, lowerCaseOf, isNothing, upperCaseOf} from \"@7urtle/lambda\";\nimport * as queryString from 'query-string';\n\n/**\n * parseJSON :: String -> Either\n *\n * parseJSON parses into String to JSON returning Either functor with the result\n */\nconst parseJSON = data => Either.try(() => JSON.parse(data));\n\n/**\n * getRequestObject :: object -> object\n *\n * getRequestObject extracts request data from input requestHook and outputs request object.\n */\nconst getRequestObject = configuration => requestHook => ({\n  configuration: configuration,\n  path: requestHook.url,\n  method: lowerCaseOf(requestHook.method),\n  data: isNothing(requestHook.data)\n    ? undefined\n    : (json =>\n        json.isLeft()\n          ? queryString.parse(requestHook.data)\n          : json.value\n    )(parseJSON(requestHook.data))\n});\n\n/**\n * logRequest :: object -> object -> object\n *\n * logRequest uses logger for debug log of request method and url.\n */\nconst logRequest = request => {\n  request.configuration.logger.debug(`Request received for ${upperCaseOf(request.method)} ${request.path}.`);\n  return request;\n};\n\n\n/**\n * RequestEffect :: object -> object -> AsyncEffect\n *\n * RequestEffect(object)(object).trigger(d -> e, f -> g) for GET requestHook returns correct request object.\n * RequestEffect(object)(object).trigger(d -> e, f -> g) for POST requestHook returns correct request object including data.\n */\nconst RequestEffect = requestHook => configuration =>\n  AsyncEffect.of(\n    async (reject, resolve) => {\n      requestHook.data = '';\n      requestHook.on('data',\n        input => {\n          configuration.logger.debug('Receiving data on request.');\n          requestHook.data += input;\n        }\n        // consider using stream-meter https://stackoverflow.com/questions/4295782/how-to-process-post-data-in-node-js\n      );\n      requestHook.on('end',\n        () => resolve(requestHook)\n      );\n    }\n  )\n  .map(getRequestObject(configuration))\n  .map(logRequest);\n\nexport default RequestEffect;\n\nexport {\n  getRequestObject,\n  logRequest,\n  parseJSON\n};","import {passThrough, isJust, Either, either, identity, AsyncEffect} from \"@7urtle/lambda\";\nimport fs from \"fs\";\n\n/**\n * getHeaders :: object -> object\n *\n * getHeaders creates headers object out of response object.\n * getHeaders uses text/plain content type if content-type is not specified.\n */\nconst getHeaders = response => ({\n  'content-type': response.contentType || 'text/plain',\n  'content-length': response.contentLength || Buffer.byteLength(response.content)\n});\n\n/**\n * sendHead :: object -> object -> Either\n */\nconst sendHead = responseHook => response =>\n  either\n  (error => passThrough(response => response.configuration.logger.error(error))(response))\n  (identity)\n  (Either.try(() =>\n    passThrough(\n      response => responseHook.writeHead(response.status || 200, getHeaders(response))\n    )(response)\n  ));\n\n/**\n * sendContent :: object -> object -> Either\n *\n * sendContent triggers responseHook.end side effect and outputs Right(responseHook) on success.\n * sendContent triggers responseHook.end side effect and outputs Left(string) on fail.\n */\nconst sendContent = responseHook => response =>\n  Either.try(() =>\n    passThrough(\n      response => isJust(response.content) ? responseHook.end(response.content) : responseHook.end()\n    )(response)\n  );\n\n/**\n * streamFile :: object -> object -> (a -> b, c -> d) -> {}\n *\n * streamFile triggers read data stream side effect streaming response.file and outputs Right(responseHook) on success.\n * streamFile triggers read data stream side effect streaming response.file and outputs Left(string) on fail.\n */\nconst streamFile = responseHook => response => (reject, resolve) =>\n  fs.existsSync(response.file)\n    ?\n    fs\n    .createReadStream(response.file)\n    .on('error', reject)\n    .on('close', () => resolve(response))\n    .pipe(responseHook)\n    : reject(new Error('Response file does not exist.'));\n\n/**\n * sendOrStream :: object -> object -> object\n *\n * sendOrStream outputs Either calling streamFile or sendContent depending on whether response.file is just.\n */\nconst sendOrStream = responseHook => response =>\n  AsyncEffect.of(\n    async (reject, resolve) =>\n      isJust(response.file)\n        ? streamFile(responseHook)(response)(reject, resolve)\n        : either(reject)(resolve)(sendContent(responseHook)(response))\n  );\n\n/**\n * ResponseEffect :: object -> object -> AsyncEffect\n */\nconst ResponseEffect = responseHook => response => {\n  sendHead(responseHook)(response);\n  return sendOrStream(responseHook)(response);\n};\n\nexport default ResponseEffect;\n\nexport {\n  getHeaders,\n  sendHead,\n  sendContent,\n  streamFile,\n  sendOrStream\n};","import {endsWith, startsWith, substr, lengthOf, isEqual, Maybe, maybe, isFunction, passThrough} from '@7urtle/lambda';\n\n/**\n * checkRoute :: string -> object -> boolean\n *\n * checkRoute outputs true if inputs path and route.path match.\n * checkRoute supports /* routes.\n */\nconst checkRoute = path => route =>\n  endsWith('/*')(route.path)\n    ? startsWith(substr(lengthOf(route.path) - 2)(0)(route.path))(path)\n    : isEqual(route.path)(path);\n\n/**\n * MaybeRoute :: object -> Maybe\n *\n * MaybeRoute outputs Maybe of route found in input request or Maybe of Nothing if route is not found.\n */\nconst MaybeRoute = request =>\n  Maybe.of(request.configuration.routes.find(checkRoute(request.path)));\n\n/**\n * emptyContent :: AsyncEffect -> AsyncEffect\n *\n * emptyContent maps AsyncEffect evaluating contentLength and making file and content values empty.\n */\nconst emptyContent = ApiEffect =>\n  ApiEffect\n  .map(result => ({\n    ...result,\n    contentLength: result.contentLength || Buffer.byteLength(result.content),\n    file: '',\n    content: ''\n  }));\n\n/**\n * rawGetApiEffect :: object -> AsyncEffect\n *\n * rawGetApiEffect outputs AsyncEffect with the response to a request based on a route.\n * rawGetApiEffect if head is not api call it outputs AsyncEffect of api call for get with empty file and content result if get is defined.\n * rawGetApiEffect if head is not api call it outputs AsyncEffect of api call for any with empty file and content result if get is not defined.\n * rawGetApiEffect outputs AsyncEffect of api 404 error for head call if head, get and any are not found.\n * rawGetApiEffect outputs AsyncEffect of api 404 error call if route is not found.\n * rawGetApiEffect outputs AsyncEffect of api any call if requested method call is not found.\n * rawGetApiEffect outputs AsyncEffect of 404 api call if both requested method call and any call are not found.\n */\nconst rawGetApiEffect = request =>\n  maybe\n  (request.configuration.apiError.any({...request, status: 404}))\n  (route =>\n    isFunction(route.api[request.method]) // is there api call for the request method?\n      ? route.api[request.method](request) // call api for the request method\n      : isEqual(request.method)('head') // is request method HEAD?\n      ? isFunction(route.api.get) // can I use get instead of head\n        ? emptyContent(route.api.get(request)) // use get instead of head\n        : isFunction(route.api.any) // can I used any instead of head\n          ? emptyContent(route.api.any(request)) // use any instead of head\n          : emptyContent(request.configuration.apiError.any({...request, status: 404})) // call api for 404 error\n      : isFunction(route.api.any) // is there api any function?\n        ? route.api.any(request) // call api any function\n        : request.configuration.apiError.any({...request, status: 404}) // call api for 404 error\n  )\n  (MaybeRoute(request));\n\n/**\n * memory :: object\n *\n * memory used for default function memoization\n */\nlet memory = {};\n\n/**\n * memoizedGetApiEffect :: object -> object -> AsyncEffect\n */\nconst memoizedGetApiEffect = memory => request =>\n  (key =>\n    key in memory\n      ? memory[key]\n      : (passThrough(result => memory[key] = result))\n        (rawGetApiEffect(request))\n  )\n  (request.path + ' ' + request.method);\n\n/**\n * getApiEffect :: object -> AsyncEffect\n *\n * getApiEffect is memoized version of rawGetApiEffect\n */\nconst getApiEffect = memoizedGetApiEffect(memory);\n\nexport default {getApiEffect};\n\nexport {\n  checkRoute,\n  MaybeRoute,\n  emptyContent,\n  rawGetApiEffect,\n  memoizedGetApiEffect,\n  memory\n};","import http from \"http\";\nimport {compose, isEqual, isNumber, identity} from \"@7urtle/lambda\";\nimport RequestEffect from \"./RequestEffect\";\nimport ResponseEffect from \"./ResponseEffect\";\nimport Router from \"./Router\";\n\n/**\n * getServer :: object -> http.Server\n *\n * getServer uses configuration object to start server with listeners for request and error\n */\nconst getServer = configuration =>\n  http\n  .createServer()\n  .on('request', configuration.listeners.request)\n  .on('error', configuration.listeners.error)\n  .listen(configuration.options.port, configuration.listeners.listening);\n\n/**\n * addListeners :: object -> object\n *\n * addListeners adds listener functions for request, error, and listening to provided configuration if not predefined.\n */\nconst addListeners = configuration => ({\n  listeners: {\n    request: requestListener(configuration),\n    error: errorListener(configuration),\n    listening: listeningListener(configuration),\n    ...configuration.listeners\n  },\n  ...configuration\n});\n\n/**\n * listeningListener :: object -> () -> string\n *\n * listeningListener uses logger provided in input configuration object to log listening event.\n */\nconst listeningListener = configuration => () =>\n  configuration.logger.info(`Server is listening on port ${configuration.options.port}.`);\n\n/**\n * errorListener :: object -> object|string -> string\n *\n * errorListener uses logger provided in input configuration object to log error listening event error object.\n */\nconst errorListener = configuration => error =>\n  isEqual(error.code)('EADDRINUSE')\n    ? configuration.logger.error(`Port ${configuration.options.port} is already in use. Server cannot start.`)\n    : configuration.logger.error(error.message || error.code || error);\n\n/**\n * respondToError :: object -> object -> number|any -> {}\n *\n * respondToError responds using ResponseHook to errors rejected during request processing.\n */\nconst respondToError = responseHook => configuration => error =>\n  isNumber(error)\n    ? configuration.logger.error(`Server request API processing failed with status: ${error}.`)\n    && respondWithApiError(configuration)(responseHook)(error)\n    : configuration.logger.error(`Server request processing failed with error: '${error}'.`)\n    && respondWithApiError(configuration)(responseHook)(500);\n\n/**\n * respondWithApiError :: object -> object -> number -> {}\n *\n * respondWithApiError triggers AsyncEffect of apiError for input status and logs potential error.\n */\nconst respondWithApiError = configuration => responseHook => status =>\n  configuration.apiError.any({\n    configuration: configuration,\n    status: status\n  })\n  .flatMap(ResponseEffect(responseHook))\n  .trigger(\n    error => configuration.logger.error(error),\n    identity\n  );\n\n/**\n * requestListener :: object -> (object, object) -> {}\n *\n * requestListener uses configuration to resolve request from requestHook by sending response using responseHook.\n */\nconst requestListener = configuration => (requestHook, responseHook) =>\n  RequestEffect(requestHook)(configuration)\n  .flatMap(Router.getApiEffect)\n  .flatMap(ResponseEffect(responseHook))\n  .trigger(\n    respondToError(responseHook)(configuration),\n    identity\n  );\n\n/**\n * create :: object -> http.Server\n *\n * create adds listeners to configuration and creates a listening http.Server.\n */\nconst create = compose(getServer, addListeners);\n\nexport default {create};\n\nexport {\n  getServer,\n  addListeners,\n  listeningListener,\n  errorListener,\n  respondToError,\n  respondWithApiError,\n  requestListener\n};","import http from 'http';\nimport {AsyncEffect, isNumber, isUndefined, compose} from '@7urtle/lambda';\n\nconst addStatusContent = request =>\n  isNumber(request.status)\n    ? ({\n      ...request,\n      content: http.STATUS_CODES[request.status]\n    })\n    : request.configuration.logger.warn('HTTP status was not provided or it is not a number. 500 status used.')\n    && ({\n      ...request,\n      status: 500,\n      content: 'Internal Server Error'\n    });\n\nconst undefinedContentTo500 = request =>\n  isUndefined(request.content)\n    ? request.configuration.logger.warn('Unknown HTTP status code number provided to apiError. 500 status used.')\n    && ({\n      ...request,\n      status: 500,\n      content: 'Internal Server Error'\n    })\n    : request;\n\nconst createApiEffect = request =>\n  AsyncEffect.of(\n    async (_, resolve) => resolve({\n      ...request,\n      contentType: 'text/plain'\n    })\n  );\n\nconst any = compose(createApiEffect, undefinedContentTo500, addStatusContent);\n\nexport default {any};","import {AsyncEffect, isEqual} from '@7urtle/lambda';\nimport fs from \"fs\";\nimport mimeTypes from \"mime-types\";\n\n/**\n * apiFile :: string -> object\n *\n * apiFile outputs api object with get call that outputs response object based on input file path.\n */\nconst apiFile = path => ({\n  get: request =>\n    AsyncEffect.of(\n      async (reject, resolve) =>\n        fs.existsSync(path)\n          ? resolve({\n            ...request,\n            status: 200,\n            file: isEqual('get')(request.method) ? path : '',\n            contentType: mimeTypes.lookup(path) || 'application/octet-stream',\n            contentLength: fs.statSync(path).size\n          })\n          : reject(404)\n    )\n});\n\nexport default apiFile;","import createLogger from \"@7urtle/logger\";\nimport Server from \"./Server\";\nimport apiError from \"./apis/apiError\";\nimport apiFile from \"./apis/apiFile\";\n\nconst defaultConfiguration = {\n  options: {\n    port: process.env.port || 3000\n  },\n  logger: createLogger(),\n  routes: [],\n  apiError: apiError,\n};\n\nconst start = configuration =>\n  Server.create({\n    ...defaultConfiguration,\n    ...configuration\n  });\n\nexport default {start};\n\nexport {apiFile};"],"sourceRoot":""}